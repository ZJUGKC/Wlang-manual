%
% UI, XIN YUAN, 2020
%

\chapter{界面库}

编写桌面程序需要界面库。

\section{WTL}

本书是一本详细介绍如何用~WTL~编写~windows~桌面程序的
入门书。用于编写~windows~桌面程序的~C/C++~框架库很多，
主要有：~MFC~，~Qt~，~WxWindows~等，还有一些轻量级的
第三方的开源库如~smartWin~，~Win32++~等。目前这些库
的共同特点是使用单根继承结构，或者使用语言扩展来完成
窗口消息映射到类的功能。偶尔用到了模板编程技术，仅
限于泛型，极少用于程序框架。尽管这样的框架编程较简单，
不必考虑很复杂的语法，但因此其缺点也是很明显的，造成
了大量的代码冗余，最终可执行文件偏大，即使使用了动态
链接技术，动态库也同样偏大，对于网络传输带来极大的
不便。

WTL~，即~Windows Template Library~，是基于~ATL~的一个
扩展程序库。WTL~把~C++~的高级特性和~Win32~的编程方式
完美地结合起来，和~ATL~一起，形成了一个现代~C++~语言
的~Win32 GUI Framework~。

当前详细阐述~WTL~的书籍很少，主要是因为它没有得到微软
的官方支持。微软主推~ATL~和~MFC~，以及~.NET~框架。
尽管如此，~WTL~还是得到了开源社区的热情支持。除了提供
和更新基本的类之外，网友还使用它的风格编写了大量用于
界面和系统的实用类，从而使得~windows~下桌面程序的编写
变得非常方便，无论是构造小型、中型或是大型的桌面程序
都提供了坚实的基础。

本书在笔者多年使用~WTL~的基础上，结合各种网上的经典
文章、参考资料，加以提炼其中的编程模式，得以写成，可
作为初学者的入门参考，也可作为有一定~MFC~或~WTL~编程
基础的人员提高桌面程序的编程能力，写出更优美的代码。

\section{ATL~的~GUI~类}


如何自定义窗口消息？

\section{工具栏和状态栏}

框架窗口
单文档和多文档

为什么没有文档类

MVC MVVM 模式

\input{part-libraries/chapter-ui/base.tex}

\input{part-libraries/chapter-ui/dialog.tex}
